<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STA Twitch Carousel</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Rubik', sans-serif;
            color: #ffffff;
            /* color: #000000; */
            font-size: 36px;
            text-align: right;
            padding-top: 10px;
        }

        #carousel {
            height: 80px;
            overflow-y: hidden;
        }

        .url {
            font-weight: bold;
            text-transform: uppercase;
        }
    </style>
</head>

<body>
    <div id="carousel">
        <p>Submit Your Work: <span class="url">sketchtoanimate.com/discord</span></p>
    </div>
</body>
<script>
    const SOCIALS = [
        {
            name: "workshop",
            cta: "☀️Workshops and Mentorships 2022:",
            url: "sketchtoanimate.com"
        },
        {
            name: "discord",
            cta: "Submit Your Work:",
            url: "sketchtoanimate.com/discord"
        },
        {
            name: "youtube",
            cta: "Check out Back to Basics:",
            url: "youtube.com/sketchtoanimate"
        },
        {
            name: "twitter",
            cta: "Follow us on twitter:",
            url: "@sketchtoanimate"
        },
        {
            name: "instagram",
            cta: "Follow us on instagram:",
            url: "@sketchtoanimate"
        },
        {
            name: "website",
            cta: "Subscribe to our newsletter:",
            url: "sketchtoanimate.com"
        }
    ]
    const DELAY = 10000;

    const carousel = document.querySelector("#carousel")
    const item = document.querySelector("#carousel p");
    let index = 0;
    let loopCount = 0;

    item.innerHTML = "<p>" + SOCIALS[0].cta + " <span class='url'>" + SOCIALS[0].url + "</span></p>";

    anime({
        targets: '#carousel p',
        translateY: 80,
        opacity: 0,
        delay: DELAY,
        easing: 'easeInOutExpo',
        loop: true,
        direction: 'alternate',
        loopComplete: function (anim) {
            loopCount++
            if (loopCount % 2 === 1) {

                index++;
                carousel.lastElementChild.innerHTML = "<p>" + SOCIALS[index % SOCIALS.length].cta + " <span class='url'>" + SOCIALS[index % SOCIALS.length].url + "</span></p>";

            }
        }
    });

</script>

</html>